<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> 
<html lang="ja">
<head>
<title>FAQ: File</title>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<link rel="StyleSheet" href="../../default.css">
<link rel="Contents" href="index.html"> 
<link rel="Prev" href="index.html"> 
</head>
<body text="#000000" link="#0000ff" bgcolor="#ffffff" vlink="#0000a0" alink="#0000ff">


<h2><a name="faq_file">ファイル関連</a></h2>

<p class="location">
<a href="../index2.html">ユーザーズガイド</a> &gt; <a href="index.html">よくある質問</a> &gt; ファイル関連
</p>

<dl>
<dt><a name="mp3_output">MP3出力プラグインが見つかりません．
<dd> 
特許関連の問題を避けるため，spwave配布パッケージの中にはMP3出力プラグインは含まれていません．
<a
  href="http://www-is.meijo-u.ac.jp/labs/rj001/spLibs/spwave/download-j.html">spwave ダウンロード</a>
のページからダウンロードできます．ただし，研究用・教育用に限り，使用することができます．
  <br>[バージョン 0.5以降]

<dt><a name="longfile">長いファイルを読み込もうとすると固まります．</a>
<dd> 
  バージョン0.4までは，ファイルのデータを全てメモリ上に読み込もうとします．
  そのため，固まったように見えてしまいます．また，メモリが足りない場合は，異常終了することもあります．
  <br>[バージョン 0.4まで]

  <br>
  バージョン0.5からは，長いファイルも扱えるようになりました．
  ただし，逆に，バージョン0.5では常にファイルからデータを読み込みますので，
  spwaveで読み込んでいるファイルが書き換わった場合には動作がおかしくなります．
  <br>[バージョン 0.5以降]


  <br>
<dt><a name="file_read">どんなファイルも読み込めません．</a>
<dd> 
  バージョン0.5から，ファイルの入力と出力にプラグインを用いるようになりました．
  そのため，<a href="http://www-is.meijo-u.ac.jp/labs/rj001/spLibs/index-j.html#spPlugin" 
  target="_top">spPlugin</a>の提供するプラグインがない場合には，spwave自体は起動しますが，
  読み込みや書き込みが全くできません．まずspPluginを適切なディレクトリにインストールして下さい．
  なお，プラグインファイルのバージョンが古い場合や，
  Linuxにおいてプラグインのlibcのバージョンが異なる場合などにも読み込めないことがあります．
  <br>
  また，プラグインの探索は，
  <code>~/.sp_plugins</code>,
  <code>/usr/lib/sp/plugins</code>, <code>/usr/local/lib/sp/plugins</code>の順に行われます．
  ここで，<code>~/</code>はWindowsやMacでは実行ファイルのあるディレクトリ，
  それ以外の環境ではホームディレクトリになります．
  ただし，Windowsでは環境変数<code>HOMEPATH</code>，Macでは環境変数<code>HOME</code>が設定されていると，
  そのディレクトリも探しにいきます．
  <br>
  <em>また，プラグインの仕様が，バージョン0.6.1がリリースされたときに変更になっているので注意して下さい</em>（<a
  href="http://www-is.meijo-u.ac.jp/labs/rj001/spLibs/index-j.html#spAudio" 
  target="_top">spAudio</a> 0.7.4，<a
  href="http://www-is.meijo-u.ac.jp/labs/rj001/spLibs/index-j.html#spPlugin" 
  target="_top">spPlugin</a> 0.8.2から）．
  
  バージョン0.6.0までのものと0.6.1以降のものには互換性はないので，新しいプラグインを使用して下さい．
  
  <br>[バージョン 0.5以降]


  <br>
<dt><a name="format_dialog">ファイルによっては開くときに，フォーマットの選択というダイアログが現れます．このとき，OKを押してもまともに読み込めないのですが？</a>
<dd>
これは，spwaveがファイルの種類を判定できなかったフォーマットの場合に出ます．
Rawファイル（生データのことです）は，通常音声データに関する情報（フォーマットのIDや
サンプリング周波数やビット/サンプル）を含まないため，通常はファイルからファイルの種類を判定することはできません．
そのため，適切なパラメータを自分で設定してやる必要があります．
それを設定するためのものが，このフォーマットの選択ダイアログです．
音声研究者とかはこのRawファイルを良く使うので，このような仕様になっています．

<br>
しかし，Rawファイル以外でもファイルの種類を判定できなかった場合にはこのダイアログが出ます．
また，WAV，AIFF，MP3でも符号化方式によってはサポートされていないのでこのダイアログが出ることがあります．
そのファイルがRawファイルでないと分かっているのであれば，このダイアログが出てきたらそのフォーマットはサポートされてないと思って下さい．
どうしてもそのファイルを読み込みたいのであれば，そのファイルを作成するときに別のフォーマットにするか，
符号化しないようにするぐらいしか方法はありません（もちろん，自分が作成したのでないデータではできませんが…）．
プログラミングができるのなら，自分でそのフォーマットに対応するプラグインを書くという方法もあります
（これをやって頂けると一番ありがたいのですが）．
<br>
  なお，バージョン0.6より前のバージョンでは，MP3ファイルでバージョン2以降のID3タグが存在している場合にも，
  このダイアログが出る場合があるというバグがあります．バージョン0.6以降へのアップデートをお勧めします．
 
  
  <br>
<dt><a name="file_save">ファイルの保存がうまくいきません．</a>
<dd>
  いくつか原因が考えられます．
  まず，単にファイルが長すぎるということが考えられます．
  この場合では，MP3などに圧縮している場合は保存に時間がかかることがあります．
  バージョン0.6.0までは，保存中に途中で止めることができないので，保存が終わるまで待つしかありません．
  また，長いファイルを保存する場合はハードディスクの容量にも注意して下さい．
  <br>
  他の可能性として，保存したいフォーマットに対応するプラグインがインストールされていないという可能性もあります．
  上の<a href="#file_read">「どんなファイルも読み込めません」</a>という質問に対する答えを参考に，プラグインファイルを適切なディレクトリにインストールして下さい．
  <br>
  また，MP3ファイルの保存において，保存はできるがID3タグが保存されていないという問題については，
  spMpeg-0.8.1までのバグです．
  spMpeg-0.8.2以降のプラグイン（spMpeg-oplugin-0.8.2以降）に更新して下さい．

  <br>
  また，プラグインの仕様が，バージョン0.6.1がリリースされたときに変更になっているため，
  それ以前にリリースされていたプラグインはインストールされていても無効になります．
  そのため，それらのプラグインの提供するフォーマットでは保存できなくなります．
  この場合は，対応するプラグインをアップデートして下さい．
  
  <br>
<dt><a name=".spwave_tmp">spwaveが異常終了してから，ディスクの残り容量がやけに少ないんですけど…</a>
<dd> 
  バージョン0.5以降では，spwaveはホームディレクトリ，
  もしくは実行ファイルのあるディレクトリに `.spwave_tmp'というディレクトリを作成し，
  その中に一時ファイルを作成します．
  非常に長い範囲を切り出した場合などは，ここに巨大なファイルができることになります．
  異常終了した場合は，このファイルが残ってしまいますので，spwaveが動いてないことを確認した上，
  削除して下さい．
  <br>
  spwaveが動いているときにこのファイルを削除すると，
  spwaveの動作がおかしくなります．
  特に，UNIX環境など，ネットワーク上でspwaveを動かす可能性がある場合に注意して下さい．
  <br>[バージョン 0.5以降]
  

  <br>
<dt><a name="mp3_silence">MP3ファイルを読み込んで特定の部分を拡大したとき，先頭に無音部分が入っています．実際には入ってないはずなんですが…</a>
<dd>
  これは，MP3のデコード方式に依存した問題です．MP3を途中からデコードしたときには，
  必ず先頭に無音部分が入ってしまうようです．
  このため，spwaveでは（というより，<a href="http://www-is.meijo-u.ac.jp/labs/rj001/spLibs/index-j.html#spMpeg" 
  target="_top">spMpeg</a>が提供しているプラグイン），表示させる位置よりも何フレームか前からデコードを行っていますが，
  それでもうまくいかない場合があります
  （何フレームからデコードすれば良い，とかいう情報をお持ちの方は教えて下さい）．

  <br>
  そのため，どうしても正確にその部分を切り出したい場合は，
  まず広めの範囲で切り出しておき（この操作によりraw形式のファイルが作成されます），
  さらにそれを所望の範囲で切り出す，という操作をして下さい．
  <br>[バージョン 0.5以降]

  <br>
<dt><a name="amplitude">音声波形の縦軸の単位はなんですか？</a>
<dd>
  生の値（コンピュータ内部で使用している値そのもの）です．
  なお，バージョン0.6.9以降ではパーセントで表示することもできます．
</dl>



<p class="location">
<a href="../index2.html">ユーザーズガイド</a> &gt; <a href="index.html">よくある質問</a> &gt; ファイル関連
</p>

<hr>
<p class="lastupdate">
Last modified: "2012-08-22 01:19:58 hideki"
</p>
</body>
</html>
